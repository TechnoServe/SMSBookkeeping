{% extends "smartmin/list.html" %}
{% load smartmin %}

{% block pre-content %}
    <div class="page-header">
        <div class="pull-right">
            <a class="btn btn-primary" href="{% url 'dashboard.wetmill_wetmill' wetmill.id %}?season={{ season.id }}">Back</a>
        </div>
        <h2>{{ title }} - {{ wetmill }}</h2>
        <div class='subheader'>{{ season }}</div>
    </div>
{% endblock %}

{% block table-buttons %}
{% endblock table-buttons %}

{% block container-tag %}
    <div class="container-fluid">
{% endblock %}

{% block content %}
{% block pjax %}
    <div id="pjax">
        <div class="row-fluid">
            <div class="span12">
              {% block pre-table %}{% endblock %}

              {% block table %}
                  <table class="list-table {% get_list_class object_list %} table table-bordered table-striped table-condensed" cellspacing="0">
                      <thead>
                      <tr>
                        {% for field in fields %}
                            <th class="header-{{field}} {% if view|field_orderable:field %}header {% if field == order %}{% if order_asc %}headerSortUp{% else %}headerSortDown{% endif %}{% endif %}{% endif %}" id="header-{{field}}">{% get_label field %}</th>
                        {% endfor %}
                      </tr>
                      </thead>
                      <tbody>
                      {% for obj in object_list %}
                          <tr class="{% cycle 'row2' 'row1' %} {% if not obj.is_active and obj|is_smartobject %}inactive{% endif %}">
                            {% for field in fields %}
                                <td class="value-{{field}} {% get_class field obj %}{% if field in link_fields %} clickable{% endif %}">
                                  {% if field in link_fields %}<a {% if pjax %}data-pjax='{{ pjax }}'{% endif %} href="{% get_field_link field obj %}">{% endif %}{% get_value obj field %}{% if field in link_fields %}</a>{% endif %}
                                </td>
                            {% endfor %}
                          </tr>
                      {% empty %}
                          <tr class="empty_list">
                            {% for field in fields %}
                                <td></td>
                            {% endfor %}
                          </tr>
                      {% endfor %}

                      {% block extra-rows %}
                      {% endblock extra-rows %}
                      </tbody>
                  </table>
              {% endblock table %}

              {% block post-table %}{% endblock post-table %}
            </div>
        </div>

      {% block paginator %}
          <div class="row-fluid">
              <div class="span3">
                  <div class="pagination-text">
                    {% if not paginator or paginator.num_pages <= 1 %}
                      {{ object_list|length }} result{% if object_list|length == 0 or object_list|length > 1 %}s{% endif %}
                    {% else %}
                        Results {{ page_obj.start_index }}-{{ page_obj.end_index }} of {{ paginator.count }}
                    {% endif %}
                  </div>
              </div>
              <div class="span9">
                {% if paginator and paginator.num_pages > 1 %}
                    <div class="pagination pagination-right">
                        <ul>
                          {% if page_obj.has_previous %}
                              <li class="prev"><a href="{{url_params|safe}}page={{page_obj.previous_page_number}}">&larr; Previous</a></li>
                          {% else %}
                              <li class="prev disabled"><a href="#">&larr; Previous</a></li>
                          {% endif %}

                          {% for page_num in paginator.page_range %}
                            {% if page_num < 10 %}
                              {% if not page_num == page_obj.number %}
                                  <li><a href="{{url_params|safe}}page={{page_num}}">{{ page_num }}</a></li>
                              {% else %}
                                  <li class="active"><a href="#">{{ page_num }}</a></li>
                              {% endif %}
                            {% endif %}
                          {% endfor %}

                          {% if page_obj.has_next %}
                              <li class="next"><a href="{{url_params|safe}}page={{page_obj.next_page_number}}">Next &rarr;</a></li>
                          {% else %}
                              <li class="next disabled"><a href="#">Next &rarr;</a></li>
                          {% endif %}
                        </ul>
                    </div>
                {% endif %}
              </div>
          </div>
      {% endblock %}

    </div>
{% endblock pjax %}
{% endblock content %}


{% block extra-style %}
  {{ block.super }}
    <style>
        h2 {
            font-weight: 400;
            margin-bottom: 0px;
        }

        .subheader {
            color: #719E41;
        }

        .table th {
            text-align: center;
            font-size: 10px;
        }

        .table td:first-child, .table th:first-child {
            text-align: center;
        }

        .table td {
            text-align: right;
            font-size: 10px;
        }
    </style>
{% endblock %}