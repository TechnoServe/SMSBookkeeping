{% extends "smartmin/update.html" %}
{% block title %}XForms{% endblock %}

{% block extra-style %}
{{ block.super }}
<style>
  .ctrlHolder {
      padding-bottom: 5px;
      padding-top: 5px;
  }

  .textinput {
      width: 750px;
      rows: 2;
  }

  textarea {
      width: 550px;
      height: 50px;
  }

  fieldset {
    margin-top: 20px;
  }

  .counter {
      float: left;
      margin-top: -20px;
      margin-left: 540px;
  }

  .counter.long {
      color:  red;
  }
</style>
{% endblock %}

{% block extra-script %}
<script>
$(function(){
  // add our counter div
  $("<div class='counter'>&nbsp;</div>").insertBefore("textarea");

  function updateCounter() {
    var len = $(this).val().length;

    $(this).prev().text(len);

    if (len > 160) {
      $(this).prev().addClass("long");
    } else {
      $(this).prev().removeClass("long");
    }
  }

  // initialize all our text areas
  $("textarea").each(updateCounter);

  // and register them all for being updated on keyUp
  $("textarea").keyup(updateCounter);
});
</script>
{% endblock %}
